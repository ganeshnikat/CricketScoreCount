<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cricket Score Counter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <script src="app.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <div id="app" class="container py-4">
        <div id="global-nav" class="d-flex justify-content-between align-items-center mb-2">
            <button class="btn btn-outline-secondary btn-sm" id="nav-back">‚¨Ö Back</button>
            <button class="btn btn-outline-secondary btn-sm" id="nav-next">Next ‚û°</button>
        </div>
        <div id="celebration-overlay" class="celebration-overlay" style="display:none;">
            <div class="celebration-content" id="celebration-text"></div>
        </div>
        <section id="page-landing" class="page active landing-page">
            <div class="landing-hero mx-auto">
                <div class="row align-items-center g-4">
                    <div class="col-md-6 text-center text-md-start">
                        <h1 class="landing-title mb-4">üèè Cricket Match Score Trackerüèè </h1>
                        <p class="landing-subtitle mb-4">
                            Score every ball, track run rate, and relive the match with ball‚Äëby‚Äëball history.
                        </p>
                        <div class="d-grid gap-3 d-md-flex">
                            <button class="btn btn-primary btn-lg" id="start-setup">
                                Start New Match
                            </button>
                            <button class="btn btn-outline-secondary btn-lg" id="goto-target">
                                Target Mode (2nd Inning)
                            </button>
                            <button class="btn btn-success btn-lg" id="show-fun-toss">
                                Toss
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 text-center">
                        <div class="pitch-wrapper mb-3">
                            <div class="pitch">
                                <div class="stumps stumps-left"></div>
                                <div class="stumps stumps-right"></div>
                                <div class="ball-orbit">
                                    <div class="ball"></div>
                                </div>
                            </div>
                            <p class="mt-3 text-muted small">
                                Watch the ball fly like a six over mid‚Äëwicket.
                            </p>
                        </div>
                        <div class="mt-4 toss-fun-card text-center" id="fun-toss-card" style="display:none;">
                            <h5 class="mb-2">Quick Toss Mode</h5>
                            <p class="text-muted small mb-2">Its Toss Time</p>
                            <div id="fun-coin" class="rupee-coin">‚Çπ</div>
                            <div class="mt-2 mb-2 small text-muted" id="fun-coin-result">
                                Click Toss to flip the coin
                            </div>
                            <br>
                            <button class="btn btn-success btn-sm" id="fun-toss-btn">Toss Coin</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="page-team-setup" class="page mt-4">
            <h2 class="text-center">Teams Setup</h2>
            <div id="team-setup-error" class="error" role="alert"></div>
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label">Team A Name</label>
                    <input id="teamAName" class="form-control" placeholder="Team A">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Players in Team A</label>
                    <input id="teamAPlayers" type="number" class="form-control" min="1" max="11">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Team B Name</label>
                    <input id="teamBName" class="form-control" placeholder="Team B">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Players in Team B</label>
                    <input id="teamBPlayers" type="number" class="form-control" min="1" max="11">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Overs per innings</label>
                    <input id="oversPerInnings" type="number" class="form-control" min="1" max="50">
                </div>
                <div class="col-12">
                    <div class="d-grid">
                        <button class="btn btn-success" id="save-setup">Proceed to Toss</button>
                    </div>
                </div>
            </div>
        </section>
        <section id="page-toss" class="page mt-4">
            <h2 class="toss-title">
                <span class="toss-icon toss-icon-left">‚Çπ</span>
                Toss & Turn the Match
                <span class="toss-icon toss-icon-right">‚Çπ</span>
            </h2>
            <div class="row g-3 justify-content-center">
                <div class="col-md-7">
                    <div class="toss-card">
                        <div class="mb-3 text-start">
                            <label class="form-label">Team Calling Toss</label>
                            <select id="tossCaller" class="form-select">
                                <option value="">Select Team</option>
                                <!-- options populated by JS -->
                            </select>
                        </div>

                        <div class="mb-3 text-start">
                            <label class="form-label">Choose Heads or Tails</label>
                            <div class="d-flex gap-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tossChoice" id="choiceHeads"
                                        value="heads" checked>
                                    <label class="form-check-label" for="choiceHeads">Heads</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tossChoice" id="choiceTails"
                                        value="tails">
                                    <label class="form-check-label" for="choiceTails">Tails</label>
                                </div>
                            </div>
                            <input type="hidden" id="tossChoice" value="heads">
                        </div>

                        <div class="text-center my-3 toss-coin-box">
                            <div id="coin" class="rupee-coin mb-3">‚Çπ</div>
                            <button class="btn btn-primary" id="tossButton">Toss Coin</button>
                        </div>
                        <div class="mt-2">
                            <div id="toss-result" class="text-center text-success fw-semibold"></div>
                        </div>

                        <div id="bat-bowl-section" class="mt-3" style="display:none;">
                            <p class="mb-2 fw-semibold">Toss winning team decision</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-success btn-sm" data-decision="bat">Bat First</button>
                                <button class="btn btn-warning btn-sm" data-decision="bowl">Bowl First</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="page-innings1" class="page mt-4">
            <h2 id="innings1-title" class="text-center">First Innings</h2>
            <div class="score-display text-center my-3">
                <div id="innings1-score" class="fs-2">0/0</div>
                <div class="innings-stats-row">
                    <span id="innings1-overs">0.0 Overs</span>
                    <span>‚Ä¢</span>
                    <span id="innings1-rr">RR 0.00</span>
                </div>
            </div>
            <div id="innings1-history" class="over-history mt-3"></div>
            <div class="innings-controls">
                <button class="btn btn-outline-info" id="showOvers1">üìä Recent Overs üìä</button>
                <button class="btn btn-secondary" id="undo1">‚Ü∂ Undo</button>
                <button class="btn btn-primary" id="endInnings1">End Innings</button>
            </div>
            <div class="button-grid row g-2 mt-4">
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run="0">Dot</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run="1">1</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run="2">2</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run="3">3</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-warning" data-boundary="4">4</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-warning" data-boundary="6">6</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-info" data-extra="wide">WD</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-info" data-extra="noball">NB</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-danger" data-wicket>W</button>
                </div>
            </div>
            <div id="celebration" class="mt-3 text-center" aria-hidden="true"></div>
        </section>
        <section id="page-target-mode" class="page mt-4">
            <h2 class="text-center">üéØ Target Mode Setup üéØ</h2>
            <div class="target-card mx-auto">
                <div class="row g-3 align-items-end">
                    <div class="col-md-4">
                        <label class="form-label">Target Score</label>
                        <div class="input-group">
                            <span class="input-group-text">Runs</span>
                            <input id="targetScore" type="text" class="form-control" min="1">
                        </div>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label">Overs Per Match</label>
                        <div class="input-group">
                            <span class="input-group-text">Overs</span>
                            <input id="targetOvers" type="number" class="form-control" min="1" max="50">
                        </div>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label">Available Wickets</label>
                        <div class="input-group">
                            <span class="input-group-text">Wkts</span>
                            <input id="targetWickets" type="number" class="form-control" min="1" max="15">
                        </div>
                    </div>

                    <div class="col-md-2 d-grid">
                        <button class="btn btn-success btn-lg" id="startChase">
                            Start 2nd Innings
                        </button>
                    </div>
                </div>
                <hr class="my-3">
            </div>
        </section>
        <section id="page-innings2" class="page mt-4">
            <h2 id="innings2-title" class="text-center">Second Innings</h2>
            <div class="score-display text-center my-3">
                <div id="innings2-score" class="fs-2">0/0</div>
                <div class="innings-stats-row">
                    <span id="innings2-overs">0.0 Overs</span>
                    <div id="innings2-rrr" class="text-muted">RRR 0.00</div>
                    <div id="innings2-needed" class="text-muted">Runs Needed: 0</div>
                    <div id="innings2-needed-balls" class="text-muted">Need 0 run(s) from 0 ball(s)</div>
                </div>
            </div>
            <div id="innings2-history" class="over-history mt-3"></div>
            <div class="innings-controls">
                <button class="btn btn-outline-info" id="showOvers2">üìä Recent Overs üìä</button>
                <button class="btn btn-secondary" id="undo2">‚Ü∂ Undo</button>
            </div>
            <div class="button-grid row g-2 mt-4">
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run2="0">Dot</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run2="1">1</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run2="2">2</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-secondary" data-run2="3">3</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-warning" data-boundary2="4">4</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-warning" data-boundary2="6">6</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-info" data-extra2="wide">WD</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-outline-info" data-extra2="noball">NB</button>
                </div>
                <div class="col-4 col-md-3">
                    <button class="btn btn-danger" data-wicket2>W</button>
                </div>
            </div>
            <div id="celebration2" class="mt-3 text-center" aria-hidden="true"></div>
            <div class="mt-3">
                <button class="btn btn-primary w-100" id="endMatch">End Match</button>
            </div>
        </section>
        <section id="page-summary" class="page mt-4">
            <h2 class="text-center">Match Summary</h2>
            <div id="summary-content" class="mb-3 p-4 bg-light rounded"></div>
            <div class="d-grid col-md-4 mx-auto">
                <button class="btn btn-outline-primary" id="restart">Restart Match</button>
            </div>
        </section>
    </div>
    <div class="modal fade" id="innings1Modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">üèè First Innings Complete</h5>
                </div>
                <div class="modal-body text-center fs-5" id="innings1-stats"></div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="proceedInnings2">Proceed to Second Innings</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="innings1RecentModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">üìä First Innings‚ÄîRecent Overs üìä</h5>
                </div>
                <div class="modal-body" id="innings1RecentContent"></div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="innings2RecentModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">üìä Second Innings‚ÄîRecent Overs üìä </h5>
                </div>
                <div class="modal-body" id="innings2RecentContent"></div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="undoModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-warning">
                    <h5 class="modal-title">Undo Last Ball?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="undoModal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Cancel
                    </button>
                    <button type="button" class="btn btn-danger" id="undoModal-confirm">
                        Undo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="innings2Modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Second Innings Complete</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="innings2-stats">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success w-100" id="proceedSummary">
                        Proceed to Match Summary
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>